<?xml version="1.0"?>
<openerp>
	<data>
		<record id="view_teds_dso_sumber_penjualan_form" model="ir.ui.view">
			<field name="name">teds.dso.sumber.penjualan.form</field>
			<field name="model">dealer.sale.order</field>
			<field name="inherit_id" ref="dealer_sale_order.sale_order_dealer_form"/>
			<field name="arch" type="xml">
				<field name="sales_source" position="replace">
					<field name="sales_source" attrs="{'invisible':[('sales_source','=',False)],'readonly':[('state','!=','draft')]}"/>
					<field name="jaringan_penjualan" attrs="{'required':[('sales_source','=',False)],'readonly':[('state','!=','draft')],'invisible':[('sales_source','!=',False)]}"/>
					<field name="sumber_penjualan_id" attrs="{'invisible':[('jaringan_penjualan','not in',('Showroom','POS'))],'required':[('jaringan_penjualan','in',('Showroom','POS'))],'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':True}"/>
					<field name="is_btl" invisible="1"/>
					<field name="activity_plan_id" attrs="{'invisible':[('is_btl','=',False)],'required':[('is_btl','!=',False)],'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':True}"/>
					<field name="titik_keramaian_id" invisible="1"/>
				</field>
				<field name="sales_source_location" position="replace">
					<field name="sales_source_location" options="{'no_create': True,'no_open':True}" class="oe_inline" attrs="{'invisible': ['|',('jaringan_penjualan','!=','POS'),('is_btl','!=',False)],'required': [('jaringan_penjualan','=','POS'),('is_btl','=',False),('state','=','draft')],'readonly': [('state','!=','draft')]}" domain="[('branch_id','=',branch_id),('jenis','=','pos'),('start_date','&lt;=',time.strftime('%Y-%m-%d %H:%M:%S')),('end_date','&gt;=',time.strftime('%Y-%m-%d %H:%M:%S'))]" />
				</field>
			</field>
		</record>
	</data>
</openerp>


