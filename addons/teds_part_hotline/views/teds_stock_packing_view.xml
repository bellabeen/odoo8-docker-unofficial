<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record id="view_teds_stock_packing_part_hotline_form" model="ir.ui.view">
            <field name="name">teds.stock.packing.part.hotline.form</field>
            <field name="model">wtc.stock.packing</field>
            <field name="inherit_id" ref="teds_branch_config_location.view_teds_stock_packing_tipe_source_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='tipe_source']" position="after">
                    <field name="part_hotline_id" options="{'no_open':True,'no_create':True}" attrs="{'invisible':['|',('rel_branch_type','=','MD'),('rel_code','not in',('outgoing','interbranch_in'))],'required':[('tipe_source','=','Hotline'),('rel_branch_type','!=','MD'),('rel_division','=','Sparepart'),('rel_code','in',('outgoing','interbranch_in'))],'readonly':[('state','!=','draft')]}" domain="[('branch_id','=',rel_branch_id),('state','=','approved'),('status_po','=','draft')]"/>
                </xpath>
            </field>
        </record>

        <record id="view_teds_stock_packing_part_hotline_po_form" model="ir.ui.view">
            <field name="name">teds.stock.packing.part.hotline.po.form</field>
            <field name="model">wtc.stock.packing</field>
            <field name="inherit_id" ref="teds_branch_config_location.view_teds_stock_packing_tipe_source_po_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='tipe_source']" position="after">    
                    <field name="part_hotline_id" options="{'no_open':True,'no_create':True}" attrs="{'invisible':[('tipe_source','!=','Hotline')],'readonly':[('state','!=','draft')],'required':[('rel_division','=','Sparepart'),('tipe_source','=','Hotline')]}" domain="[('branch_id','=',rel_branch_id),('state','=','approved'),('status_po','=','draft')]" />
                </xpath>
            </field>
        </record>

    </data>
</openerp>