<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
    <!-- Master Kategori Activity Budget -->
        <record id="view_teds_master_act_budget_category_tree" model="ir.ui.view" >
            <field name="name">teds.master.act.budget.category.tree</field>
            <field name="model">teds.master.act.budget.category</field>
            <field name="arch" type="xml">
            	<tree string="Master Kategori Activity Budget" editable="top">
                    <field name="name" required="1" />
                    <field name="code" required="1" />
                    <field name="active" />
            	</tree>
            </field>
        </record>
        <record id="view_teds_master_act_budget_category_filter" model="ir.ui.view">
            <field name="name">teds.master.act.budget.category.filter</field>
            <field name="model">teds.master.act.budget.category</field>
            <field name="arch" type="xml">
                <search string="Search Master Kategori Activity Budget">
                    <field name="name" />
                    <field name="code" />
                    <filter name="all" string="All" domain="[('active','in',[True, False])]"/>
                </search>
            </field>
        </record>
        <record id="action_teds_master_act_budget_category" model="ir.actions.act_window">
            <field name="name">Master Kategori Activity Budget</field>
            <field name="res_model">teds.master.act.budget.category</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="context">{'search_default_all': 1}</field>
        </record>
        <menuitem 
            id="teds_master_act_budget_category_menuitem" 
            parent="wtc_dealer_menu.backoffice_configuration_menu" 
            action="action_teds_master_act_budget_category" 
            sequence="45"
        />
    <!-- Upload master activity budget -->
        <record id="view_teds_master_act_budget_upload_wizard" model="ir.ui.view">
			<field name="name">view.teds.master.act.budget.upload.wizard</field>
			<field name="model">teds.master.act.budget.upload.wizard</field>
			<field name="arch" type="xml">
				<form string="Upload Master Activity Budget">
					<sheet>
						<field name="state" invisible="1" />
                        <!-- Upload sukses -->
                        <h1 attrs="{'invisible':['|',('state','=','choose'),('success_msg','=',False)]}">
                            <field name="success_msg" readonly="1" />
                        </h1>
                        <!-- Upload gagal -->
                        <div attrs="{'invisible':['|',('state','=','choose'),('error_msg','=',False)]}">
                            <h1 style="color: red;">Ada data yang gagal diupload...</h1>
                            <field name="error_msg" readonly="1" />
                        </div>
		            	<!-- Input file  -->
						<group attrs="{'invisible':[('state','=','get')]}">
							<field name="date_upload" />
							<field name="master_file" />
						</group>
						<newline attrs="{'invisible':[('state','=','get')]}" />    
						<footer attrs="{'invisible':[('state','=','get')]}">
							<button name="action_upload" string="Upload" type="object" class="oe_highlight" />
                            <button string="Cancel" special="cancel" />
						</footer>
					</sheet>
				</form>
			</field>
		</record>
        <record id="action_teds_master_act_budget_upload_wizard" model="ir.actions.act_window">
            <field name="name">Upload Master Activity Budget</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">teds.master.act.budget.upload.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_teds_master_act_budget_upload_wizard"/>
            <field name="target">new</field>
            <field name="context">{'readonly_by_pass': 1}</field>
        </record>
        <menuitem id="teds_master_act_budget_upload_wizard_menuitem"  parent="wtc_dealer_menu.backoffice_configuration_menu" sequence="64"  action="action_teds_master_act_budget_upload_wizard"/>
        
    <!-- Master Activity Budget -->
        <record id="view_teds_master_act_budget_tree" model="ir.ui.view" >
            <field name="name">teds.master.act.budget.tree</field>
            <field name="model">teds.master.act.budget</field>
            <field name="arch" type="xml">
            	<tree string="Master Activity Budget">
            		<field name="year" />
                    <field name="name" />
                    <field name="department_id" />
                    <field name="activity" />
                    <field name="amount_avb" />
            	</tree>
            </field>
        </record>
        
        <record id="view_teds_master_act_budget_form" model="ir.ui.view" >
            <field name="name">teds.master.act.budget.form</field>
            <field name="model">teds.master.act.budget</field>
            <field name="arch" type="xml">
            	<form string="Master Activity Budget">
            		<!-- <header>
            			
                    </header> -->
            		<sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" attrs="{'invisible': [('name','=',False)]}" class="oe_inline" />
                            </h1>
                        </div>
						<group>
                            <group>
                                <field name="year" required="1" attrs="{'readonly': [('name','!=',False)]}" />
                                <field name="activity" required="1" attrs="{'readonly': [('name','!=',False)]}" />
                            </group>
                            <group>
                                <field name="department_id" required="1" domain="[('department_code','!=',False)]" attrs="{'readonly': [('name','!=',False)]}" options="{'no_create': True, 'no_open': True}" />
                                <field name="category_id" required="1" attrs="{'readonly': [('name','!=',False)]}" options="{'no_create': True, 'no_open': True}" />
                                <field name="amount_avb" required="1" attrs="{'readonly': [('name','!=',False)]}" />
                                <field name="amount_init" readonly="1" />
                            </group>
                        </group>
                        <notebook>
                            <page string="Audit Trail">
                                <group>
                                    <group>
                                        <field name="create_uid" readonly="1" />
                                        <field name="create_date" readonly="1" />
                                    </group>
                                    <group>
                                        <field name="write_uid" readonly="1" />
                                        <field name="write_date" readonly="1" />
                                    </group>
                                </group>
                            </page>
                        </notebook>
            		</sheet>
            	</form>
            </field>
        </record>

        <record id="view_teds_master_act_budget_filter" model="ir.ui.view">
            <field name="name">teds.master.act.budget.filter</field>
            <field name="model">teds.master.act.budget</field>
            <field name="arch" type="xml">
                <search string="Search Master Activity Budget">
                    <field name="year"/>
                    <field name="department_id"/>
                    <field name="category_id"/>
                    <!-- <group string="Group By">
                        <filter string="Branch" context="{'group_by':'branch_id'}"/>
                    </group> -->
                </search>
            </field>
        </record>

        <record id="action_teds_master_act_budget" model="ir.actions.act_window">
            <field name="name">Master Activity Budget</field>
            <field name="res_model">teds.master.act.budget</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem 
            id="teds_master_act_budget_menuitem" 
            parent="wtc_dealer_menu.backoffice_configuration_menu" 
            action="action_teds_master_act_budget" 
            sequence="47"
        />
    </data>
</openerp>