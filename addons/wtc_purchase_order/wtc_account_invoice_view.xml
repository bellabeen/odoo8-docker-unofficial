<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>  
    	
		<record id="wtc_account_invoice_form_view" model="ir.ui.view">
			<field name="name">wtc.account.invoice.form</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form"/>
			<field name="arch" type="xml">
					
					<xpath expr="//button[@name='invoice_cancel']" position="after">
						<button name="renew_price" states="draft" string="Renew Price" groups="wtc_account.group_supplier_invoice_renew_price" type="object" class="oe_highlight" />
						<button name="regenerate_invoice" states="draft" string="Regenerate Invoice" groups="wtc_account.group_supplier_invoice_renew_price" type="object" class="oe_highlight" />
					</xpath>
					
					<xpath expr="//field[@name='discount']" position="after">
						<field name="discount_amount" groups="sale.group_discount_per_so_line"/>
					</xpath>
					<xpath expr="//field[@name='amount_untaxed']" position="after">
						<field name="discount_cash" groups="sale.group_discount_per_so_line" attrs="{'readonly':[('state','not in','draft')]}"/>
						<field name="discount_program" groups="sale.group_discount_per_so_line" attrs="{'readonly':[('state','not in','draft')]}"/>
						<field name="discount_lain" groups="sale.group_discount_per_so_line" attrs="{'readonly':[('state','not in','draft')]}"/>
					</xpath>
				    
				    <xpath expr="//field[@name='price_unit']" position="replace">
				    	<field name="price_unit" invisible="1"/>
				    	<field name="price_unit_show" readonly="1"/>
				    </xpath>
				    
				    <xpath expr="//field[@name='product_id']" position="attributes">
	    		 		<attribute name="readonly">1</attribute>
		    		</xpath>
		    		<xpath expr="//field[@name='account_id']" position="attributes">
	    		 		<attribute name="readonly">1</attribute>
		    		</xpath>
		    		<xpath expr="//field[@name='quantity']" position="attributes">
	    		 		<attribute name="readonly">1</attribute>
		    		</xpath>
			</field>
		</record>
		
		<record id="customer_account_invoice_form_view" model="ir.ui.view">
			<field name="name">customer.account.invoice.form</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
			
					<xpath expr="//field[@name='discount']" position="after">
						<field name="discount_amount" groups="sale.group_discount_per_so_line"/>
					</xpath>
					<xpath expr="//field[@name='amount_untaxed']" position="after">
						<field name="discount_cash" groups="sale.group_discount_per_so_line" attrs="{'readonly':[('state','not in','draft')]}"/>
						<field name="discount_program" groups="sale.group_discount_per_so_line" attrs="{'readonly':[('state','not in','draft')]}"/>
						<field name="discount_lain" groups="sale.group_discount_per_so_line" attrs="{'readonly':[('state','not in','draft')]}"/>
					</xpath>
					
			</field>
		</record>
		
 	</data>
 </openerp>