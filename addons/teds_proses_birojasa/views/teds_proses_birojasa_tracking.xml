<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data> 

    	<record id="view_teds_proses_birojasa_tracking_pdf" model="ir.ui.view">
            <field name="name">teds.proses.birojasa.tracking</field>
            <field name="model">teds.proses.birojasa.tracking</field>
            <field name="arch" type="xml">
            	<form>
        			<div class="oe_title">                      
   						<h1><label string="Tracking Document PRBJ"/></h1>
   					</div>
        			<group>
                        <group>
                            <field name="options" required="1" style="width:50%%"/>
            				<field name="name" attrs="{'invisible':[('options','!=','No PRBJ')],'required':[('options','=','No PRBJ')]}" style="width:50%%"/>
            				<label for="start_date" string="Periode" attrs="{'invisible':[('options','!=','Periode')]}"/>
    							<div attrs="{'invisible':[('options','!=','Periode')]}">
    							<field name="start_date" class="oe_inline" placeholder="Start Date" attrs="{'required':[('options','=','Periode')]}"/>
            					<field name="end_date" class="oe_inline" placeholder="Start Date" attrs="{'required':[('options','=','Periode')]}"/>
            				</div>
                            <field name="status" attrs="{'invisible':[('options','!=','Periode')]}" style="width:50%%"/>
                        </group>
                        <group>
        					<field name="branch_ids" widget="many2many_tags" options="{'no_open':True,'no_create':True}" attrs="{'invisible':[('options','!=','Periode')]}" style="width:50%%"/>
        					<field name="birojasa_ids" widget="many2many_tags" options="{'no_open':True,'no_create':True}" attrs="{'invisible':[('options','!=','Periode')]}" style="width:50%%"/>
                        </group>
        			</group>
        			 <footer>
		                <button name="action_submit" string="Track" type="object" class="oe_highlight"/>
		            </footer>
                    <newline/>
                    <field name="create_date" invisible="1"/>
                    <field name="is_report" invisible="1"/>
                    <label string="Data tidak ada !" attrs="{'invisible':['|',('create_date','=',False),('is_report','!=',False)]}"/>
		            <group string="Data PRBJ" attrs="{'invisible':[('is_report','=',False)]}">
                        <div class="text-right">
                            <button name="action_print_excel" type="object" string="Print"/>
                        </div>
                        <button name="action_dowload_excel" type="object" string="Dowload" attrs="{'invisible':[('is_report','!=',False)]}" class="btn-primary"/>
		            	<field name="detail_ids" nolabel="1" readonly="1">
		            		<tree>
		            			<field name="branch_id" options="{'no_open':True,'no_create':True}"/>
		            			<field name="birojasa_id" options="{'no_open':True,'no_create':True}"/>
		            			<field name="name"/>
		            			<field name="date"/>
		            			<field name="tgl_jtp"/>
                                <field name="tanggal_dokumen"/>
                                <field name="tgl_confirm"/>
                                <field name="leadtime_cabang"/>
                                <field name="leadtime_ho"/>
                                <field name="leadtime_pajak"/>
                                <field name="leadtime_finance"/>
		            			<field name="total"/>
		            			<field name="state"/>
                                <field name="keterangan"/>
		            		</tree>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="branch_id" options="{'no_open':True,'no_create':True}"/>
                                            <field name="birojasa_id" options="{'no_open':True,'no_create':True}"/>
                                            <field name="name"/>
                                            <field name="date"/>
                                            <field name="tgl_jtp"/>
                                            <field name="tanggal_dokumen"/>
                                            <field name="leadtime_cabang"/>
                                            <field name="tgl_terima_document_ho" string="Tgl Terima Doc HO"/>
                                            <field name="leadtime_ho"/>
                                            <field name="tgl_terima_document_pajak" string="Tgl Terima Doc Pajak"/>
                                            <field name="leadtime_pajak"/>
                                            <field name="tgl_terima_document_finance" string="Tgl Terima Doc Finance"/>
                                            <field name="leadtime_finance"/>
                                        </group>
                                        <group>
                                            <field name="total"/>
                                            <field name="tgl_confirm"/>
                                            <field name="state"/>
                                            <field name="keterangan" string="Keterangan"/>
                                        </group>
                                    </group>
                                </sheet>
                            </form>
		            	</field>
		            </group>
            	</form>
            </field>
        </record>

        <record id="action_teds_proses_birojasa_tracking" model="ir.actions.act_window">
            <field name="name">Tracking PRBJ</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">teds.proses.birojasa.tracking</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
	    </record>

        <report 
            string="Proses Birojasa Tracking" 
            id="action_teds_proses_birojasa_tracking_print" 
            model="teds.proses.birojasa.tracking" 
            report_type="qweb-pdf"
            name="teds_proses_birojasa.teds_proses_birojasa_tracking_print" 
            file="teds_proses_birojasa.teds_proses_birojasa_tracking_print" 
            menu="False"/>

	    <menuitem id="teds_proses_birojasa_tracking_menu"  parent="wtc_dealer_menu.stnk_bpkb_proses_stnk_menu" sequence="19"  action="action_teds_proses_birojasa_tracking"/> 
    </data>
</openerp>